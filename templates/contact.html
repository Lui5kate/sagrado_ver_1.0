{% extends 'base.html' %}

{% block title %}Contacto{% endblock %}

{% block content %}
<section class="contact-section py-5">
    <div class="container">
        <h1 class="text-center mb-5">Contacto</h1>
        
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="contact-info">
                    <h3 class="mb-4" style="color: var(--color-dorado);">Información de Contacto</h3>
                    <div class="mb-4">
                        <h5><i class="fas fa-map-marker-alt me-2"></i>Dirección</h5>
                        <p>Av. Reforma 123, Col. Centro<br>Ciudad de México, CDMX</p>
                    </div>
                    <div class="mb-4">
                        <h5><i class="fas fa-phone me-2"></i>Teléfono</h5>
                        <p>(55) 1234-5678</p>
                    </div>
                    <div class="mb-4">
                        <h5><i class="fas fa-envelope me-2"></i>Email</h5>
                        <p>info@sagradocantina.com</p>
                    </div>
                    <div class="mb-4">
                        <h5><i class="fas fa-clock me-2"></i>Horario</h5>
                        <p>Lunes a Viernes: 12:00 PM - 11:00 PM<br>
                        Sábado y Domingo: 12:00 PM - 12:00 AM</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="contact-form">
                    <h3 class="mb-4" style="color: var(--color-dorado);">Envíanos un Mensaje</h3>
                    <form id="contactForm">
                        <div class="mb-3">
                            <label for="name" class="form-label">Nombre Completo</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Correo Electrónico</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="subject" class="form-label">Asunto</label>
                            <input type="text" class="form-control" id="subject" name="subject" required>
                        </div>
                        <div class="mb-3">
                            <label for="message" class="form-label">Mensaje</label>
                            <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-outline-light">Enviar Mensaje</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-12">
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3762.888456257539!2d-99.1675!3d19.4270!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTnCsDI1JzM3LjIiTiA5OcKwMTAnMDMuMCJX!5e0!3m2!1ses!2smx!4v1234567890"
                        width="100%" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        subject: document.getElementById('subject').value,
        message: document.getElementById('message').value
    };

    try {
        const response = await fetch('/submit-contact/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        });

        const data = await response.json();
        
        if (data.status === 'success') {
            alert('¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto.');
            this.reset();
        } else {
            alert('Error al enviar el mensaje. Por favor, intenta de nuevo.');
        }
    } catch (error) {
        alert('Error al enviar el mensaje. Por favor, intenta de nuevo.');
    }
});
</script>
{% endblock %} 